{"version":3,"sources":["webpack:///./src/views/CatePage.vue?ee07","webpack:///./src/views/CatePage.vue?e167","webpack:///src/views/CatePage.vue","webpack:///./src/views/CatePage.vue?4e0b","webpack:///./src/views/CatePage.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","class","active","cateSelect","on","$event","selectCate","slug","_v","_s","name","attrs","clickCid","viewImg","closeView","_e","staticRenderFns","components","data","cateList","cidList","loading","loadPage","load","page","option","open","methods","scroll","self","onGetEssay","event","_getEssayList","filterType","filterSlug","console","log","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,wDAAwDN,EAAIO,GAAIP,EAAY,UAAE,SAASQ,EAAKC,GAAO,OAAOL,EAAG,MAAM,CAACM,IAAID,EAAMH,YAAY,4BAA4BK,MAAM,CAAEC,OAAQZ,EAAIa,aAAeJ,GAAQK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,WAAWR,EAAKS,KAAMR,MAAU,CAACL,EAAG,OAAO,CAACJ,EAAIkB,GAAGlB,EAAImB,GAAGX,EAAKY,cAAa,GAAGhB,EAAG,MAAM,CAACE,YAAY,QAAQN,EAAIO,GAAIP,EAAW,SAAE,SAASQ,EAAKC,GAAO,OAAOL,EAAG,UAAU,CAACM,IAAID,EAAMH,YAAY,2BAA2Be,MAAM,CAAC,QAAUb,GAAMM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIsB,SAASP,UAAc,GAAGX,EAAG,aAAa,CAACiB,MAAM,CAAC,KAAO,SAAS,CAAErB,EAAIuB,QAAY,KAAEnB,EAAG,WAAW,CAACE,YAAY,oDAAoDe,MAAM,CAAC,KAAOrB,EAAIuB,SAAST,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIwB,UAAUT,OAAYf,EAAIyB,MAAM,IAAI,IAC75BC,EAAkB,G,4FCkCtB,aAIA,GACEC,WAAY,CAAd,+BACEC,KAFF,WAGI,MAAO,CACLC,SAAU,GACVC,QAAS,GACTC,SAAS,EACTC,SAAU,CACRC,MAAM,EACNC,KAAM,GAERrB,WAAY,CACVJ,MAAO,EACPW,KAAM,WAERG,QAAS,CACPY,OAAQ,KACRC,MAAM,KAIZ,YArBF,WAqBA,wKACA,iBADA,OAEA,eACA,qDAHA,8CAKEC,QAAS,CACPC,OAAQ,OAAZ,OAAY,EAAZ,YACU,OAAV,OAAU,KAAV,sBACQC,EAAKP,SAASE,MAAQ,EACtBK,EAAKC,gBAEb,KAEIhB,UARJ,WASMvB,KAAKsB,QAAQY,OAAS,KACtBlC,KAAKsB,QAAQa,MAAO,GAGtBd,SAbJ,SAaA,GACMrB,KAAKsB,QAAQY,OAASM,EACtBxC,KAAKsB,QAAQa,MAAO,GAGtBpB,WAlBJ,SAkBA,KACMf,KAAKY,WAAa,CAAxB,oCACMZ,KAAK6B,QAAU,GACf7B,KAAK+B,SAAW,CAAtB,gBACM/B,KAAKuC,cAGPA,WAzBJ,WA0BMvC,KAAKyC,cAAc,CACjBR,KAAMjC,KAAK+B,SAASE,KACpBS,WAAY,WACZC,WAAY3C,KAAKY,WAAWO,OAE9ByB,QAAQC,IAAI7C,KAAKY,aAGnB,aAlCJ,WAkCA,8KACA,gBADA,OACA,EADA,OAEA,uBAFA,8CAKI,cAvCJ,SAuCA,mLACA,kBADA,OACA,EADA,OAEA,sBACA,cACA,qBACA,OACA,UACA,kBAGA,mBAEA,mBAZA,gDCxGkV,I,wBCQ9UkC,EAAY,eACd,EACAhD,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAAqB,E,8BCnBf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAK3D,MAAM4D,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO,Q","file":"js/chunk-97f1cacc.b3964df0.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatePage.vue?vue&type=style&index=0&id=9a5abec4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex text-center cate-list text-white mb-2 flex-wrap\"},_vm._l((_vm.cateList),function(item,index){return _c('div',{key:index,staticClass:\"cate-item w-1/3 md:w-auto\",class:{ active: _vm.cateSelect === index },on:{\"click\":function($event){return _vm.selectCate(item.slug, index)}}},[_c('span',[_vm._v(_vm._s(item.name))])])}),0),_c('div',{staticClass:\"more\"},_vm._l((_vm.cidList),function(item,index){return _c('MorePic',{key:index,staticClass:\"w-full vh50 pb-2 md:pb-4\",attrs:{\"cidList\":item},on:{\"event\":function($event){return _vm.clickCid($event)}}})}),1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.viewImg.open)?_c('view-pic',{staticClass:\"fixed z-10 top-0 w-screen h-screen -ml-2 md:-ml-4\",attrs:{\"info\":_vm.viewImg},on:{\"close\":function($event){return _vm.closeView($event)}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"flex text-center cate-list text-white mb-2 flex-wrap\">\n      <div\n        v-for=\"(item, index) in cateList\"\n        :key=\"index\"\n        class=\"cate-item w-1/3 md:w-auto\"\n        @click=\"selectCate(item.slug, index)\"\n        :class=\"{ active: cateSelect === index }\"\n      >\n        <span>{{ item.name }}</span>\n      </div>\n    </div>\n    <div class=\"more\">\n      <MorePic\n        v-for=\"(item, index) in cidList\"\n        :cidList=\"item\"\n        :key=\"index\"\n        class=\"w-full vh50 pb-2 md:pb-4\"\n        @event=\"clickCid($event)\"\n      />\n    </div>\n    <transition name=\"fade\">\n      <view-pic\n        v-if=\"viewImg.open\"\n        :info=\"viewImg\"\n        class=\"fixed z-10 top-0 w-screen h-screen -ml-2 md:-ml-4\"\n        @close=\"closeView($event)\"\n      />\n    </transition>\n  </div>\n</template>\n\n<script>\nimport ApiModule from \"../modules/api\";\nconst API = new ApiModule();\nimport MorePic from \"../components/MorePic\";\nimport { handleScroll, throttle } from \"../modules/common\";\nimport ViewPic from \"../components/ViewPic\";\nexport default {\n  components: { ViewPic, MorePic },\n  data() {\n    return {\n      cateList: [],\n      cidList: [],\n      loading: false,\n      loadPage: {\n        load: true,\n        page: 1,\n      },\n      cateSelect: {\n        index: 0,\n        name: \"default\",\n      },\n      viewImg: {\n        option: null,\n        open: false,\n      },\n    };\n  },\n  async beforeMount() {\n    await this._getCategory();\n    this.onGetEssay();\n    window.addEventListener(\"scroll\", this.scroll.bind(this, this));\n  },\n  methods: {\n    scroll: throttle((self) => {\n      if (handleScroll() && self.loadPage.load === true) {\n        self.loadPage.page += 1;\n        self.onGetEssay();\n      }\n    }, 700),\n\n    closeView() {\n      this.viewImg.option = null;\n      this.viewImg.open = false;\n    },\n\n    clickCid(event) {\n      this.viewImg.option = event;\n      this.viewImg.open = true;\n    },\n\n    selectCate(val, index) {\n      this.cateSelect = { index, name: this.cateList[index].slug };\n      this.cidList = [];\n      this.loadPage = { load: true, page: 1 };\n      this.onGetEssay();\n    },\n\n    onGetEssay() {\n      this._getEssayList({\n        page: this.loadPage.page,\n        filterType: \"category\",\n        filterSlug: this.cateSelect.name,\n      });\n      console.log(this.cateSelect);\n    },\n\n    async _getCategory() {\n      let res = await API.getCategory();\n      this.cateList = res.data.data;\n    },\n\n    async _getEssayList(value) {\n      let res = await API.getEssayList(value);\n      res = res.data.data.dataSet;\n      if (res.length !== 0) {\n        let temp = res.map((val) => {\n          return {\n            cid: val.cid,\n            title: val.title,\n          };\n        });\n        this.cidList.push(temp);\n      } else {\n        this.loadPage.load = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n\n.more {\n  min-height: 100vh;\n}\n\n.cate-item {\n  flex-grow: 1;\n  padding: 1rem 0;\n  border: 2px solid white;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.cate-item:hover {\n  background: white;\n  color: black;\n}\n.active {\n  background: white;\n  color: black;\n}\n\n.vh50 {\n  min-height: 50vh;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CatePage.vue?vue&type=template&id=9a5abec4&scoped=true&\"\nimport script from \"./CatePage.vue?vue&type=script&lang=js&\"\nexport * from \"./CatePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CatePage.vue?vue&type=style&index=0&id=9a5abec4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a5abec4\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}